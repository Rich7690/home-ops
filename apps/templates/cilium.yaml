---
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
    name: cilium
    namespace: argocd
spec:
    project: remote-apps
    source:
        chart: cilium
        repoURL: https://helm.cilium.io/
        targetRevision: 1.12.0
        helm:
            releaseName: cilium
            values: |
                ipam:
                  mode: "kubernetes"
                securityContext:
                  privileged: true
                bgp:
                  enabled: true
                  announce:
                    loadbalancerIP: true
    destination:
        server: https://kubernetes.default.svc
        namespace: kube-system
