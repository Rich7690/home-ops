---
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
    name: mariadb-galera
    namespace: argocd
spec:
    project: remote-apps
    source:
        chart: mariadb-galera
        repoURL: https://charts.bitnami.com/bitnami
        targetRevision: 7.3.13
        helm:
            releaseName: mariadb-galera
            values: |
                replicaCount: 2
                priorityClassName: high-priority
                persistence:
                    storageClass: mayastor-2
                resources:
                requests:
                    cpu: 200m
                    memory: 256Mi
                limits:
                    cpu: 4
                    memory: 512Mi

    destination:
        server: https://kubernetes.default.svc
        namespace: default
