apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
    name: prowlarr
    namespace: argocd
spec:
    project: remote-apps
    source:
        chart: prowlarr
        repoURL: https://k8s-at-home.com/charts
        targetRevision: 4.5.2
        helm:
            releaseName: prowlarr
            values:
                nodeSelector:
                  kubernetes.io/hostname: virtworkerone
                env:
                    TZ: America/Los_Angeles
                image:
                    repository: ghcr.io/onedr0p/prowlarr-develop
                    tag: 1.1.1.2377@sha256:7a7555f9a9630b63bbda3e01cdb9915ae2cffcdad51ab0026c461a25be727627
                persistence:
                    config:
                        enabled: true
                        mountPath: /config
                        subPath: configs/prowlarr
                        existingClaim: cache-pvc
                        type: pvc
                        retain: true
                resources:
                    limits:
                        memory: 1G
                    requests:
                        cpu: 200m
                        memory: 400Mi
    destination:
        server: https://kubernetes.default.svc
        namespace: default
