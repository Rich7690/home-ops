---
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
    name: vault
    namespace: argocd
spec:
    project: remote-apps
    source:
        chart: vault
        repoURL: https://kubernetes-charts.banzaicloud.com
        targetRevision: 1.15.5
        helm:
            releaseName: vault
            values: |
                priorityClassName: high-priority
                replicaCount: 1
                image:
                  tag: 1.11.2
                persistence:
                  enabled: false
                  hostPath: /work/storage/configs/vault
                vault:
                  config:
                    cluster_addr: "http://127.0.0.1:8201"
                    api_addr: http://localhost:8200
                    storage:
                      raft:
                        path: "/vault/file"

    destination:
        server: https://kubernetes.default.svc
        namespace: default
