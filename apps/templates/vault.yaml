---
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
    name: vault
    namespace: argocd
spec:
    project: remote-apps
    source:
        chart: vault
        repoURL: https://kubernetes-charts.banzaicloud.com
        targetRevision: 1.15.5
        helm:
            releaseName: vault
            values: |
                replicaCount: 2
                image:
                  tag: 1.10.3
                persistence:
                  enabled: true
                  storageClass: mayastor-2
                vault:
                  config:
                    cluster_addr: "http://127.0.0.1:8201"
                    storage:
                      api_addr: http://localhost:8200
                      raft:
                        path: "/vault/file"
                     
    destination:
        server: https://kubernetes.default.svc
        namespace: default
