controller:
  enabled: true
  strategy: node
  externalProvisioner:
    extraArgs:
    - --leader-election=false
    - --node-deployment=true
    - --node-deployment-immediate-binding=false
    - --feature-gates=Topology=true
    - --strict-topology=true
    - --enable-capacity=true
    - --capacity-ownerref-level=1
  externalAttacher:
    enabled: false

  # distributed support is not yet ready
  #externalResizer:
  #  enabled: false

  externalSnapshotter:
    enabled: true
    extraArgs:
    - --leader-election=false
    - --node-deployment=true
  nodeSelector:
    kubernetes.io/hostname: worker-one
  tolerations:
    - effect: NoSchedule
      operator: Exists
node:
  nodeSelector:
    kubernetes.io/hostname: worker-one
  tolerations:
    - effect: NoSchedule
      operator: Exists
csiDriver:
  name: "org.democratic-csi.zfs-local-dataset"
  attachRequired: false
  storageCapacity: true
  fsGroupPolicy: File
storageClasses:
- name: zfs-local-dataset
  defaultClass: false
  reclaimPolicy: Delete
  volumeBindingMode: WaitForFirstConsumer
  # distributed support is not yet ready for expansion
  allowVolumeExpansion: true
  parameters:
    fsType: zfs
driver:
  config:
    driver: zfs-local-dataset
    zfs:
      datasetParentName: storage/encrypted
      detachedSnapshotsDatasetParentName: "storage/encrypted@"

      datasetProperties: {}
        # key: value

      datasetEnableQuotas: false
      datasetEnableReservation: false
