kyverno:
  upgrade:
    fromV2: true
  fullnameOverride: kyverno
  image:
    repository: ghcr.io/kyverno/kyverno # kyverno: replaced in e2e tests
    # -- Image tag
    # Defaults to appVersion in Chart.yaml if omitted
    tag: v1.11.1@sha256:54e9051459c21412223a71db5b8528972f4a513c515590ac1ed3b2e1db5997d2
    pullPolicy: IfNotPresent
  initImage:
    # -- Image repository
    repository: ghcr.io/kyverno/kyvernopre # init: replaced in e2e tests
    tag: v1.11.0@sha256:5744bcdb88dfd820694cf74fee63089396f3a7b8fdeae147afb2f1a6c95f77c3
    pullPolicy: IfNotPresent
  admissionController:
    priorityClassName: system-cluster-critical
    container:
      resources:
        limits:
          memory: 2Gi
        requests:
          cpu: 100m
          memory: 1Gi
  backgroundController:
    rbac:
      clusterRole:
        extraResources:
          - apiGroups:
              - "volsync.backube"
              - "autoscaling.k8s.io"
            resources:
              - "*"
            verbs:
              - create
              - update
              - delete
              - patch
          - apiGroups:
              - ""
            resources:
              - "Secret"
            verbs:
              - create
              - update
              - delete
              - patch
    resources:
        limits:
          memory: 2Gi
        requests:
          cpu: 100m
          memory: 1Gi
