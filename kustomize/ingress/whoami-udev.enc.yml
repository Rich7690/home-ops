apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
    annotations:
        # This is somewhat of a sentinal ingress to generate TLS certs from cert-manager. Other ingress records will use that cert as its a wildcard one
        cert-manager.io/cluster-issuer: letsencrypt-prod
        cert-manager.io/private-key-algorithm: ECDSA
    name: whoami-udev
    namespace: default
    labels:
        use-cloudflare-solver: "true"
spec:
    ingressClassName: nginx-external
    rules:
        - host: ENC[AES256_GCM,data:9dSWYJFj/urn1jZ5776g7YsAJ0c7,iv:O1ThQFSli0ZRDid40rX+KXQdgWm7I5YJ0BPIrUZ4SbE=,tag:dGiUsqA+VwOujgZJ0sjs8A==,type:str]
          http:
            paths:
                - backend:
                    service:
                        name: whoami
                        port:
                            name: http
                  path: /
                  pathType: ImplementationSpecific
    tls:
        - hosts:
            - ENC[AES256_GCM,data:uK8/CZsRwRev4TAEuEHV+g==,iv:ZhqV+UtHD9tptf0ckppaOKWO0L6LDYbTKT+oWf44M00=,tag:Jz5nwfO9uk4hIcgXODcJIg==,type:str]
            - ENC[AES256_GCM,data:gQwFcZ0sTeOtUjcGzjQ=,iv:g+A7PdNSfjEyUwd93TpxI7mqVgxdEbNUhns3nuSDEgc=,tag:B2Ck+eHyjt3CD/ilse5k1g==,type:str]
          secretName: udev-cert
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age17pzq63nanwarvma9nc7dvp7yy3dalgcr8e958dxrx9nfkkcwuyksw8qsds
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBpQU9tYXhneUxselYyK2ZX
            ZUt3NUoyNEhCc29ZNUNWd2t1K29zVE1sS1dzCldPWGU5WmhaSW9iaDNlSVlmTElv
            aXFRaldBSWNlZm9Dcm9ZL0o4VGl1dTQKLS0tIGR3NjZ4b1NTN0JLaStEUGtwemdW
            Mjdmc0gxMklIc2VwTjVsVjFKc04rdjQK7/ghtt2RdJMeFQVUo4sTbDV5Z564DuAC
            AGLGaLmuymWK7x5NLzi5K2GA3TGml60lJLC/qToKlP2kU7+3lo6Trw==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2022-12-03T01:20:46Z"
    mac: ENC[AES256_GCM,data:zLA4Ihdo+/pBglgjEjnayqlF8fXx3mQKHAmPOGi9kWGoXdcfJEWINuuEqhJOMjPYM19XZc9gaz9we8mtsiGNE3f0HdMPazKdEhg5l6ZYfJ0hwEL5tJcKeQdJ5juFVFqCqP81gSStxTOCzBD/+2eZTquF+LZipiR7gDCEAsKpIQ0=,iv:B8wgR+0hK8N/2DJibsVGqBzt4JCACht/Pz+2/4T774o=,tag:S7WR3uOKU81cbJ9J/FVXXg==,type:str]
    pgp: []
    encrypted_regex: ^(data|stringData|host|hosts)$
    version: 3.7.3
